﻿@using Doan.Models;

@model IEnumerable<TbBlog>

@{
	List<TbBlogComment> blogComment = ViewBag.blogComment;
}

<!-- REcentpost-->
<div class="widget recent-posts-entry">
	<h6 class="widget-title">Recent Posts</h6>
	@foreach (var item in Model)
	{
		var sUrl = $"/blog/{item.Alias}-{item.BlogId}.html";
		var listComment = blogComment.Where(i => i.BlogId == item.BlogId);
		<div class="widget-post-bx">
			<div class="widget-post clearfix">
				<div class="ttr-post-media"> <img src="@item.Image" width="200" height="143" alt=""> </div>
				<div class="ttr-post-info">
					<div class="ttr-post-header">
						<h6 class="post-title"><a href="@sUrl">@item.Title</a></h6>
					</div>
					<ul class="media-post">
						<li><a href="#"><i class="fa fa-calendar"></i>@item.CreatedDate.Value.ToString("dd/MM/yyyy")</a></li>
						<li><a href="#"><i class="fa fa-comments-o"></i>@listComment.Count() Comment</a></li>
					</ul>
				</div>
			</div>
		</div>
	}

</div>